<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Register page</title>
</head>

<body>
<h1> Register </h1>
<!-- //metoda post pentru ca trimite de la ecran spre controller -->
<form th:action="@{/rest-register}"  th:object="${user}" method="POST" enctype="multipart/form-data">
<div class="container">

    <div>
    <label for = "lastname"><b>Last name</b></label>
    <input type="text" placeholder="Enter last name" name="lastname" id="lastname" th:field="*{lastName}" required>
    </div>

    <div>
    <label for = "firstname"><b>First name</b></label>
    <input type="text" placeholder="Enter first name" name="firstname" id="firstname" th:field="*{firstName}" required>
    </div>

    <div>
    <label for = "email"><b>Email</b></label>
    <input type="email" placeholder="Enter email" name="email" id="email" th:field="*{email}"required>
    </div>

    <div>
    <label for="uname"><b>Username</b></label>
    <input type="text" placeholder="Enter Username" name="uname" id = "uname" th:field="*{userName}" required>
    </div>

    <div>
    <label for="psw"><b>Password</b></label>
    <input type="password" placeholder="Enter Password" name="psw" id = "psw"  th:field="*{password}"required>
    </div>

    <div>
        <label for="file" style="cursor: pointer;">Choose a profile picture to upload:</label>
        <input type="file" name="profilePicture" accept="image/gif, image/jpeg, image/png"  id="file"  th:field = "*{picture}"  onchange="loadFile(event)"/>
        <input type="submit" value="Save"/>
        <p><img id="output" width="200" /></p>
    </div>


    <script>
        var loadFile = function(event) {
            var image = document.getElementById('output');
            image.src = URL.createObjectURL(event.target.files[0]);
        };
    </script>

    <div>
        <button class = "btn" type="submit" name="action">Register</button>
    </div>

</div>
</form>
</body>
</html>